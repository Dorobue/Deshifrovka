# Deshifrovka v1.1 (17.02.2026)

**Deshifrovka** — это Python-класс для частичной или полной расшифровки текста, зашифрованного с помощью шифра Плейфера. Основная идея заключается в поиске частых повторяющихся паттернов и итеративной догадочной расшифровке слов из словаря.

---

## Основные возможности

- Автоматическое определение самых частых биграмм и их расшифровка.
- Проверка повторяющихся и зеркальных биграмм в словах.
- Итеративное сопоставление шаблонов слов из словаря с участками текста.
- Построение схемы расшифровки для поиска подходящих кандидатов.
- Возможность частичной расшифровки через словарь предположений.


---

## Использование

```python
from deshifrovka import Deshifrovka

# Создаем объект расшифровки
d = Deshifrovka(file="r3.txt")

# Запуск основного процесса расшифровки
num_bigrams = d.process()
print("Количество расшифрованных биграмм: ",num_bigrams)

# Получение полностью расшифрованного текста
full_text = d.razshifrovka()
print(full_text)

# Частичная расшифровка через словарь предположений
partial_text = d.RSP(l=1000)
print(partial_text)

```
# Ключевые методы
## KR(s)
Возвращает список повторяющихся биграмм в слове.
Пример: CHurCH → повторяющаяся биграмма CH.

## KZ(s)
Возвращает список зеркальных биграмм в слове.
Пример: themSElvES → зеркальные пары SE ↔ ES.

## str_cha(a)
Разбивает слово на возможные шаблоны для поиска в тексте. Необходимо, поскольку шифр Плейфера шифрует текст биграммами
Пример: WITHTHE → ('WITHTH', 'ITHTHE').

## dobavit(d, s)
Добавляет новую расшифрованную пару биграмм в словарь и список расшифрованных биграмм.

## usl(sch)
Создает словарь известных биграмм для дорасшифровки шаблона.

## str_sch(a)
Преобразует слово в схему с ?? для неизвестных биграмм.

## process()
Основной метод.
Итеративно ищет слова в тексте по шаблонам, находит явные совпадения и обновляет словарь расшифровок. Возвращает количество расшифрованных биграмм.

## razshifrovka()
Возвращает полностью расшифрованный текст по текущему словарю.

## RSP(l=1000)
Частичная расшифровка текста через словарь предположений, если некоторые биграммы ещё неизвестны.

# Структура данных
ss — исходный словарь слов.

sss — список шаблонов слов для поиска в тексте.

slovar — словарь расшифрованных биграмм (ключи — зашифрованные биграммы, значения — расшифрованные).

razgadannoe — список уже расшифрованных биграмм.

predpolozheniya — словарь предположений для дорасшифровки.

# Примечания
Код рассчитан на англоязычный текст, шифрованный шифром Плейфера и находящийся в верхнем регистре, не содержащий пробелов или знаков препинания.

Расшифровка начинается с поиска наиболее частой двойной биграммы - то есть тетраграммы типа XYXY. Наиболее частый кандидат автоматически записывается как шифрованная тетраграмма THTH.

Затем код ищет соответствия по разгаданным, повторяющимся и зеркальным биграммам между эталонными словами и шифрованными словами из текста.

Во избежание путаницы преимущество фаворита над другими кандидатами должно быть явным (Он должен встречаться в тексте чаще, чем следующий кандидат, по меньшей мере в два раза) для добавления в словарь.


# Автор
Версия 1.1, дата: 17.02.2026